{% extends 'base.html' %}
{% load static%}
{% block form %}
    <div class="create-post" style="display: flex;">
        <div class='col-sm-6'>
            <div class="page-wrapper">
                <div class="blog-title-area text-center">
                    <ol class="breadcrumb hidden-xs-down">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item"><a href="#">Blog</a></li>
                        <li class="breadcrumb-item active title-preview"></li>
                    </ol>

                    <span class="color-orange"><a href="tech-category-01.html" title="">Technology</a></span>

                    <h3 class="title-preview"></h3>

                    <div class="blog-meta big-meta">
                        <small><a href="tech-single.html" title="">21 July, 2017</a></small>
                        <small><a href="tech-author.html" title="">by {{request.user.username}}</a></small>
                        <small><a href="#" title=""><i class="fa fa-eye"></i> 2344</a></small>
                    </div><!-- end meta -->

                    <div class="post-sharing">
                        <ul class="list-inline">
                            <li><a href="#" class="fb-button btn btn-primary"><i class="fa fa-facebook"></i> <span
                                        class="down-mobile">Share on Facebook</span></a></li>
                            <li><a href="#" class="tw-button btn btn-primary"><i class="fa fa-twitter"></i> <span
                                        class="down-mobile">Tweet on Twitter</span></a></li>
                            <li><a href="#" class="gp-button btn btn-primary"><i class="fa fa-google-plus"></i></a></li>
                        </ul>
                    </div><!-- end post-sharing -->
                </div><!-- end title -->

                <!--<div class="single-post-media">
                    <img src="{% static  'upload/tech_menu_08.jpg' %}" alt="" class="img-fluid">
                </div> end media -->

                <div class="blog-content content-preview">
                </div><!-- end content -->

                <div class="blog-title-area">
                    <div class="tag-cloud-single">
                        <span>Tags</span>
                        <small><a href="#" title="">lifestyle</a></small>
                        <small><a href="#" title="">colorful</a></small>
                        <small><a href="#" title="">trending</a></small>
                        <small><a href="#" title="">another tag</a></small>
                    </div><!-- end meta -->
                </div><!-- end title -->
                <hr class="invis1">
            </div><!-- end page-wrapper -->
        </div>
        <div class='col-sm-6'>
            <div class="create-form">
                <form action="" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{form.as_p}}
                    <button type="submit" class="btn btn-default">Create</button>
                </form>
            </div>
        </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js'></script>
        <script type='text/javascript'>
            $(document).ready(() => {

                var titleItem = $('#id_title')
                $('.title-preview').html(titleItem.val())

                var contentItem = $('#id_content')
                var contentMarked = marked(contentItem.val())
                $('.content-preview').html(contentMarked)


                const setTitleItem = (titleItem) => {
                    titleItem.keyup(()=>{
                        titleItem = $('#id_title')
                        $('.title-preview').html(titleItem.val())
                    })

                }
                const setContentItem = (contentItem) => {
                    contentItem.keyup(()=>{
                        contentMarked = marked(contentItem.val())
                        $('.content-preview').html(contentMarked)
                        $('.content-preview p img').each(function(){
                            $(this).addClass('img-responsive')
                        })
                    })
                }

                setTitleItem(titleItem);
                setContentItem(contentItem);
                
            })
        </script>
{% endblock form %}